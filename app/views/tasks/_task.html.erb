<tr class='task' data-task-id="<%= task.id %>" data-controller='task' id="<%= dom_id task %>">
  <td data-action="click->task#edit">
    <span data-target="task.text"><%= task.content %></span>
    <turbo-frame>
      <%= form_with(model: task, data: {target: 'task.form'}, class: "#{ task.errors.any? ? '' : 'hide'}") do |form| %>
        <div class="field">
          <div><%= form.text_field :content, data: {target: 'task.input', action: 'blur->task#show'} %></div>
        </div>
      <% end %>
    </turbo-frame>
  </td>
  <td>
    <turbo-frame>
      <%= link_to_if task.completed?, 'âœ”', [task, { task: { status: 'active' }}], method: 'patch' do %>
        <%= link_to 'ğŸ—†', [task, { task: { status: 'completed' }}], method: 'patch' %>
      <% end %>
    </turbo-frame>
  </td>
  <td>
    <turbo-frame>
      <%= link_to 'X', task, method: :delete, data: { confirm: 'Are you sure?' } %>
    </turbo-frame>
  </td>
</tr>
