<p id="notice"><%= notice %></p>

<h1>Tasks</h1>

<ul>
  <li><%= link_to_unless request.path == tasks_path, 'all', tasks_path %></li>
  <li><%= link_to_unless request.path == active_tasks_path, 'active', active_tasks_path %></li>
  <li><%= link_to_unless request.path == completed_tasks_path, 'completed', completed_tasks_path %></li>
</ul>

<%= form_with(model: Task.new) do |form| %>
  <div class="field">
    <%= form.label :content %>
    <%= form.text_field :content %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>

<table>
  <thead>
    <tr>
      <th>Content</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody id='tasks'>
    <%= render partial: 'tasks/task', collection: @tasks %>
  </tbody>
</table>


<section class="jumbotron  text-center">
  <h2><img class="jumbo-thumbnail img-circle" src="<%= @user[:info][:image] %>"/></h2>
  <h1>Welcome, <%= @user[:info][:name] %></h1>
</section>
<section class="container">
  <div class="panel panel-default">
    <div class="panel-heading">Normalized User Profile</div>
    <div class="panel-body">
      <pre><%= JSON.pretty_generate(@user[:info]) %></pre>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading">Full User Profile</div>
    <div class="panel-body">
      <pre><%= JSON.pretty_generate(@user[:extra][:raw_info]) %></pre>
    </div>
  </div>
</section>
